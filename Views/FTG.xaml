<wpf:View x:Class="CegsMines.Views.FTG"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
    xmlns:local="clr-namespace:CegsMines.Views"
    xmlns:wpf="http://schemas.aeonhacs.com/wpf"
    xmlns:core="clr-namespace:AeonHacs;assembly=AeonHacs.Core"
    mc:Ignorable="d"
    Background="{x:Null}"
    DataContext="{Binding RelativeSource={RelativeSource Self}}">
    <wpf:View.Resources>
        <wpf:MatchConverter x:Key="MismatchVisibleHidden" MatchValue="{x:Static Visibility.Hidden}" MismatchValue="{x:Static Visibility.Visible}" />
    </wpf:View.Resources>
    <Canvas Width="105" Height="125">
        <wpf:Chamber Component="Section.FTG" Canvas.Left="22" Canvas.Top="5"
            Data="M0.5,4.5 h60 M17.5,4.5 v17 m26,-17 v17" />

        <wpf:StackingPanel Width="21" Orientation="Down" Canvas.Left="29" Canvas.Top="26">
            <wpf:Valve Component="vHe_FTG" d:ValveState="Closed" />
            <wpf:Connection IsHitTestVisible="False" />
            <wpf:StackingPanel Offset="30">
                <wpf:Break IsHitTestVisible="False" />
                <wpf:Arrow IsHitTestVisible="False" Orientation="Up" />
                <wpf:StackingPanel Offset="3" IsHitTestVisible="False">
                    <TextBlock Text="He" LineHeight="14" LineStackingStrategy="BlockLineHeight"/>
                </wpf:StackingPanel>
            </wpf:StackingPanel>
        </wpf:StackingPanel>

        <wpf:MassFlowController Component="mfcHe" Orientation="Left" Canvas.Right="60" Canvas.Top="52" />
        <wpf:FlowGauge Component="mfcHe" Canvas.Right="75" Canvas.Top="87" ContentStringFormat="0.00"/>

        <wpf:StackingPanel Canvas.Left="55" Canvas.Top="26" Width="21" Orientation="Down">
            <wpf:Valve Component="vO2_FTG" d:ValveState="Closed" />
            <wpf:Connection IsHitTestVisible="False" />
            <wpf:StackingPanel Offset="30">
                <wpf:Break IsHitTestVisible="False" />
                <wpf:Arrow IsHitTestVisible="False" Orientation="Up" />
                <wpf:StackingPanel Offset="3" IsHitTestVisible="False">
                    <TextBlock Text="O₂" LineHeight="14" LineStackingStrategy="BlockLineHeight"/>
                </wpf:StackingPanel>
            </wpf:StackingPanel>
        </wpf:StackingPanel>

        <wpf:MassFlowController Component="mfcO2" Orientation="Right" Canvas.Left="60" Canvas.Top="52" />
        <wpf:FlowGauge Component="mfcO2" Canvas.Left="75" Canvas.Top="87" ContentStringFormat="0.00" />

        <wpf:Stub Orientation="Left" Canvas.Left="0" Canvas.Top="6" HorizontalAlignment="Center" VerticalAlignment="Top" />
        <wpf:Stub Orientation="Right" Canvas.Left="101" Canvas.Top="6" HorizontalAlignment="Left" VerticalAlignment="Center" />
        <Canvas Canvas.Left="105" Canvas.Top="-47" Width="44" Height="60"
            Visibility="{Binding InletPort.PortType, Converter={x:Static wpf:MatchConverter.VisibleHidden}, ConverterParameter={x:Static core:InletPortType.FlowThrough}}" HorizontalAlignment="Center" VerticalAlignment="Top">
            <wpf:Fitting Data="M12,0 h-12 v5" FittingSize="3/8" Canvas.Left="27" Canvas.Top="0" />
            <wpf:Fitting Data="M0,0 v7" Canvas.Left="28" Canvas.Top="9" />
            <wpf:ConvolutedTubing AutomationProperties.HelpText="Flow-through gas flex tube to Inlet port" Data="M0,0 h3 m0,0 h1 c 26,0 27.5,-6 27.5,-35.5 v-1 m0,0 v-3" Canvas.Left="0" Canvas.Top="17" />
        </Canvas>
        <Canvas Canvas.Left="105" Canvas.Bottom="6" Width="82" Height="73" d:Visibility="Hidden"
            Visibility="{Binding InletPort.PortType, Converter={StaticResource MismatchVisibleHidden}, ConverterParameter={x:Static core:InletPortType.FlowThrough}}" Canvas.Top="-60" HorizontalAlignment="Center" VerticalAlignment="Top">
            <Canvas Canvas.Left="52" Canvas.Bottom="56" Width="17" Height="17" HorizontalAlignment="Left" Canvas.Top="31" VerticalAlignment="Center">
                <Canvas.RenderTransform>
                    <RotateTransform Angle="50" CenterX="4" CenterY="17.7" />
                </Canvas.RenderTransform>
                <wpf:Fitting Data="M12,0 h-12 v5" FittingSize="3/8" Canvas.Left="0" Canvas.Top="0" />
                <wpf:Fitting Data="M0,0 v7" Canvas.Left="1" Canvas.Bottom="0" />
            </Canvas>
            <wpf:ConvolutedTubing Data="M0,0 h3 m0,0 h10 c 21.376,0 21.376,-3 32,-11.425 l10,-8 m0,0 l1.8,-1.5" Canvas.Left="0" Canvas.Bottom="0"/>
        </Canvas>

        <wpf:Valve Component="vFTG_TF"
                   Canvas.Left="4" d:ValveState="Closed" />
        <wpf:Valve Component="vFTG_IP2"
                   Canvas.Left="82" d:ValveState="Closed" />
    </Canvas>
</wpf:View>
